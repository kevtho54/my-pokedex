(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2,6,7],{272:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{searchPokemon:""}},watch:{searchPokemon:function(t){this.$emit("search",t)}}},r=n(42),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-bar"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchPokemon,expression:"searchPokemon"}],attrs:{type:"text",placeholder:"Rechercher un pokémon"},domProps:{value:t.searchPokemon},on:{input:function(e){e.target.composing||(t.searchPokemon=e.target.value)}}})])}),[],!1,null,null,null);e.default=component.exports},273:function(t,e,n){"use strict";n.r(e);var o={props:{buttonText:{type:String,required:!0},route:{type:String,default:null},clickAction:{type:[Function,String],default:null}},methods:{handleClick:function(){if(this.route)this.$router.push(this.route);else if("function"==typeof this.clickAction)this.clickAction();else if("string"==typeof this.clickAction&&"addPokemon"===this.clickAction)this.$emit("addPokemon")}}},r=n(42),component=Object(r.a)(o,(function(){var t=this;return(0,t._self._c)("button",{staticClass:"btn btn-secondary btn-rounded btn-sm text-sm",on:{click:t.handleClick}},[t._v(t._s(t.buttonText))])}),[],!1,null,null,null);e.default=component.exports},274:function(t,e,n){"use strict";n.r(e);n(43);var o={props:{teamPokemon:{type:Array,default:function(){return[]}}},methods:{removePokemon:function(t){this.$emit("remove-pokemon",t)}}},r=n(42),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"team"},[t.teamPokemon.length>0?e("div",{staticClass:"row my-team mx-auto"},[e("h2",{staticClass:"team-title"},[t._v("Mon Équipe")]),t._v(" "),t._l(t.teamPokemon,(function(n,o){return e("div",{key:o,staticClass:"slot col-sm-2"},[n?[e("img",{staticClass:"w-75",attrs:{src:n.image,alt:n.name}}),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(n.name))]),t._v(" "),e("button",{staticClass:"btn btn-secondary btn-rounded btn-sm text-sm",on:{click:function(e){return t.removePokemon(n)}}},[t._v("Supprimer")])]:t._e()],2)}))],2):t._e()])}),[],!1,null,null,null);e.default=component.exports},275:function(t,e,n){"use strict";var o=n(2),r=n(79).findIndex,c=n(132),l="findIndex",m=!0;l in[]&&Array(1)[l]((function(){m=!1})),o({target:"Array",proto:!0,forced:m},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},277:function(t,e,n){"use strict";n.r(e);n(43);var o=n(12),r=(n(60),n(19),n(36),n(37),n(44),n(59),n(45),n(61),n(80),n(275),n(194),n(272)),c=n(273),l=n(274),m={components:{searchBar:r.default,CardBoutton:c.default,pokemonTeam:l.default},data:function(){return{pokemons:[],filteredPokemons:[],team:[],typeColors:{grass:"#67a300",poison:"#c75db0",fire:"#e68330",flying:"#c9c8e8",water:"#089bff",bug:"#A8B820",normal:"#A8A878",electric:"#F8D030",ground:"#E0C068",fairy:"#EE99AC",fighting:"#C03028",psychic:"#F85888",rock:"#B8A038",steel:"#B8B8D0",ice:"#98D8D8",ghost:"#705898",dragon:"#7038F8"},showCount:5}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.team),e.prev=1,e.next=4,fetch("https://pokeapi.co/api/v2/pokemon?offset=0&limit=151");case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,c=r.results,e.next=11,Promise.all(c.map(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url);case 2:return n=t.sent,t.next=5,n.json();case 5:return data=t.sent,t.abrupt("return",{name:data.name,image:data.sprites.other["official-artwork"].front_default,order:data.id,types:data.types});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:l=e.sent,t.pokemons=l,t.filteredPokemons=l,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:t.loadLocalStorage();case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))()},computed:{displayedTypes:function(){return this.types.slice(0,this.showCount)}},methods:{filterPokemons:function(t){this.filteredPokemons=t?this.pokemons.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):this.pokemons},getTypeColor:function(t){return this.typeColors[t]||"gray"},showMore:function(){this.showCount=this.types.length},addPokemonToTeam:function(t){if(console.log("le pokemon a été ajouté ",t.name),this.team.some((function(e){return e&&e.name===t.name})))alert("Ce Pokémon est déjà dans votre équipe");else{if(this.team.length<6)return this.team.push({name:t.name,image:t.image}),this.updateLocalStorage(),this.$set(this.team,this.team.length-1,t),console.log("equipe:",this.team),!0;alert("Vous ne pouvez avoir que 6 Pokémon dans votre équipe")}},selectPokemon:function(t){this.selectedPokemon=t},removePokemon:function(t){var e=this.team.findIndex((function(e){return e&&e.name===t.name}));e>-1&&this.team.splice(e,1),this.updateLocalStorage()},updateLocalStorage:function(){localStorage.setItem("myTeam",JSON.stringify(this.team))},loadLocalStorage:function(){var t=localStorage.getItem("myTeam");t&&(this.team=JSON.parse(t))}}},d=m,f=n(42),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("searchBar",{staticClass:"mb-",on:{search:t.filterPokemons}}),t._v(" "),e("pokemonTeam",{attrs:{"team-pokemon":t.team},on:{"remove-pokemon":t.removePokemon}}),t._v(" "),t.filteredPokemons&&t.filteredPokemons.length>0?[e("div",{staticClass:"row gallery"},t._l(t.filteredPokemons,(function(n){return e("div",{key:n.id,staticClass:"col-md-4 col-lg-3 col-xl-2 col-sm-6 col-"},[e("div",{staticClass:"card"},[e("nuxt-link",{staticClass:"card mb-3",attrs:{to:"/fiche_pokemon/".concat(n.name)}},[e("img",{attrs:{src:n.image,alt:n.name}})]),t._v(" "),e("div",{staticClass:"card-body"},[e("p",{staticClass:"order"},[t._v(" n° "+t._s(n.order))]),t._v(" "),e("h5",{staticClass:"card-title"},[t._v(t._s(n.name))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"contenerTypes col-sm-12"},t._l(n.types,(function(n,o){return e("p",{key:o,staticClass:"type",style:{backgroundColor:t.getTypeColor(n.type.name)}},[t._v(" "+t._s(n.type.name))])})),0)]),t._v(" "),e("div",{staticClass:"row btn-card"},[e("div",{staticClass:"col btn"},[e("button",{staticClass:"btn btn-secondary btn-rounded btn-sm text-sm btn-block",on:{click:function(e){return t.addPokemonToTeam(n)}}},[t._v("Ajouter à l'équipe")])])])])],1)])})),0),t._v(" "),t.filteredPokemons.length>5?e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-secondary",on:{click:t.showMore}},[t._v("Afficher plus de pokémons")])]):t._e()]:e("p",[t._v("Aucun Pokémon trouvé")])],2)}),[],!1,null,null,null);e.default=component.exports}}]);